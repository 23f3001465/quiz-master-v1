{% extends "ubase.htm" %}
{% block title %}Search Results{% endblock %}

{% block content %}
<div class="row">
<div class="col-12">
<div class="d-flex justify-content-between align-items-center mb-4">
<h1>Search Results for "{{ query }}"</h1>
</div>
</div>
</div>

<div class="row">
<div class="col-12">
<div class="card">
<div class="card-header bg-primary text-white">
<h5 class="mb-0">Quizzes</h5>
</div>
<div class="card-body">
{% if quizzes %}
<div class="list-group">
{% for quiz in quizzes %}
<a href="{{ url_for('quiz_details', quiz_id=quiz.quiz_id) }}" class="list-group-item list-group-item-action">
<div class="d-flex w-100 justify-content-between">
<h5 class="mb-1">{{ quiz.name }}</h5>
<small>Date: {{ quiz.date_of_quiz.strftime('%d-%m-%Y') }}</small>
</div>
<p class="mb-1">{{ quiz.chapter.chapter_name }} ({{ quiz.chapter.subject.name }})</p>
</a>
{% endfor %}
</div>
{% else %}
<div class="alert alert-info">No quizzes found matching "{{ query }}".</div>
{% endif %}
</div>
</div>
</div>
</div>

<div class="row mt-4">
<div class="col-md-6">
<div class="card">
<div class="card-header bg-success text-white">
<h5 class="mb-0">Subjects</h5>
</div>
<div class="card-body">
{% if subjects %}
<div class="list-group">
{% for subject in subjects %}
<div class="list-group-item">
<h5 class="mb-1">{{ subject.name }}</h5>
<p class="mb-1">{{ subject.description or 'No description available.' }}</p>
<p class="mb-0"><small>Chapters: {{ subject.chapters|length }}</small></p>
</div>
{% endfor %}
</div>
{% else %}
<div class="alert alert-info">No subjects found matching "{{ query }}".</div>
{% endif %}
</div>
</div>
</div>
<div class="col-md-6">
<div class="card">
<div class="card-header bg-info text-white">
<h5 class="mb-0">Chapters</h5>
</div>
<div class="card-body">
{% if chapters %}
<div class="list-group">
{% for chapter in chapters %}
<div class="list-group-item">
<h5 class="mb-1">{{ chapter.chapter_name }}</h5>
<p class="mb-1">{{ chapter.description or 'No description available.' }}</p>
<p class="mb-0"><small>Subject: {{ chapter.subject.name }}</small></p>
</div>
{% endfor %}
</div>
{% else %}
<div class="alert alert-info">No chapters found matching "{{ query }}".</div>
